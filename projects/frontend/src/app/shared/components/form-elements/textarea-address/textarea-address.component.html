<span *ngIf="label" [ngClass]="{'px-0 label': true, 'disabled-label': disabled, 'disabled-blue': useBlackFont}">{{ label | translate }}</span>
<div class="address-input-container align-items-start px-0">
  <textarea [disabled]="disabled" [(ngModel)]="address"
            (change)="inputNewValue($event)"
    rows="3"
    class="form-control address-textarea"
  ></textarea>
  <button class="address-book-button" (click)="togglePopover(myModal)">
    <span class="menu-icon"><span class="btn-label"
                                  [inlineSVG]="'./assets/media/icons/duotune/general/address_book.svg'"></span></span>
  </button>

  <div class="popover" *ngIf="showPopover">
    <h4>Select Address</h4>
    <div class="address-list">
      <ul>
        <li *ngFor="let person of addressBook" (click)="selectAddress(person)">
          {{ person.name }}
        </li>
      </ul>
    </div>
  </div>
</div>

<!--<div *ngIf="showPopover" class="modal fade custom-modal" id="kt_modal_create_organisation" tabindex="-1" role="dialog" &ndash;&gt;-->
<!--  aria-labelledby="exampleModalLabel"-->
<!--  aria-hidden="true">-->
<!--  <div class="modal-dialog modal-dialog-centered" role="document">-->
<!--    &lt;!&ndash; Modal &ndash;&gt;-->
<!--    <div class="modal-content">-->
<!--      <div class="modal-header px-9">-->
<!--        <label class="popover-title" id="ModalLabel1">{{ 'Address Book '}}</label>-->
<!--        <button type="button" class="btn-close" (click)="closePopover()" aria-label="Close"></button>-->
<!--      </div>-->
<!--      <div class="modal-body pt-3 pb-5">-->
<!--        &lt;!&ndash; Lista de personas con scroll &ndash;&gt;-->
<!--        <div class="person-list">-->
<!--          <div class="person" *ngFor="let person of addressBook">-->
<!--            {{ person.name }}-->
<!--          </div>-->
<!--        </div>-->
<!--      </div>-->
<!--      <div class="modal-footer py-3">-->
<!--        &lt;!&ndash; Botones del pie de página aquí &ndash;&gt;-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->

<!--<div class="fv-row fv-plugins-icon-container px-1 pt-3 pb-4">-->
<!--  <a class="btn btn-sm fw-bold border-0 px-0" (click)="addLanguage(myModal)">-->
<!--    <span class="btn-label" [inlineSVG]="'./assets/media/icons/duotune/general/add-plus.svg'"></span>-->
<!--    <span class="a-link-color ps-3 fs-5 align-middle">{{ "buttons.addLanguage" | translate }}</span>-->
<!--  </a>-->
<!--</div>-->

<!-- Modal -->

<!--<ng-template *ngIf="showPopover">-->
<!--  <div class="modal-content">-->
<!--    <div class="modal-header px-9">-->
<!--      <label class="popover-title"-->
<!--             id="ModalLabel1">{{ 'Address Book' }}</label>-->
<!--      <button type="button" class="btn-close" (click)="modalRef.hide()" aria-label="Close"></button>-->
<!--    </div>-->
<!--    <form [formGroup]="locationForm" (ngSubmit)="onSubmitLocation()">-->
<!--      <div class="modal-body pt-3 pb-5">-->
<!--        &lt;!&ndash; Aquí coloca los campos del formulario &ndash;&gt;-->

<!--        <app-input class="row d-flex w-100 pe-2 pt-0 mx-1" [label]="'labels.location'"-->
<!--                   [placeholder]="'labels.addLocation'"-->
<!--                   formControlName="location">-->
<!--        </app-input>-->

<!--        <app-input class="row d-flex w-100 pe-2 pt-0 mx-1" [label]="'labels.address'"-->
<!--                   [placeholder]="'labels.addAddress'"-->
<!--                   formControlName="address">-->
<!--        </app-input>-->

<!--        <app-input class="row d-flex w-100 pe-2 pt-0 mx-1" [label]="'labels.phone'"-->
<!--                   [placeholder]="'labels.addPhone'"-->
<!--                   formControlName="phone">-->
<!--        </app-input>-->

<!--        <app-input class="row d-flex w-100 pe-2 pt-0 mx-1" [label]="'labels.tmsRefNo'"-->
<!--                   [placeholder]="'labels.addtsmRefNo'"-->
<!--                   formControlName="tsmRefNo">-->
<!--        </app-input>-->
<!--      </div>-->
<!--      <div class="modal-footer py-3">-->

<!--        <app-button class="px-0" data-bs-dismiss="modal" [name]="'buttons.cancel'" (click)="locationModalRef.hide()"-->
<!--                    [btnColor]="btnColor.filterButtonWhiteBg"></app-button>-->
<!--        <ng-container *ngIf="!editingMode">-->
<!--          <app-button class="px-0" [name]="'buttons.create'" [disabled]="!locationForm.valid"-->
<!--                      [btnColor]="btnColor.filterButton"></app-button>-->
<!--        </ng-container>-->
<!--        <ng-container *ngIf="editingMode">-->
<!--          <app-button class="px-0" (click)="updateLocationRow();locationModalRef.hide()" [name]="'buttons.updateForm'"-->
<!--                      [disabled]="!locationForm.valid" [btnColor]="btnColor.filterButton"></app-button>-->
<!--        </ng-container>-->
<!--      </div>-->
<!--    </form>-->
<!--  </div>-->
<!--</ng-template>-->
<ng-template #myModal>
  <div class="modal-content">
    <div class="modal-header px-9">
      <label class="popover-title"
             id="ModalLabel">{{ 'Address Book' }}</label>
      <button type="button" class="btn-close" (click)="modalRef.hide()" aria-label="Close"></button>
    </div>
    <form [formGroup]="addressForm">
      <div class="modal-body pt-3 pb-5">
        <!-- Aquí coloca los campos del formulario -->

        <app-select class="row d-flex w-100 pe-2 pt-0 mx-1 salutation" [options]=""
                    [placeholder]="'labels.receiver'"
                    [label]="'labels.receiver'"
                    formControlName="receiver">
        </app-select>

        <app-select class="row d-flex w-100 pe-2 pt-0 mx-1 salutation" [options]=""
                    [placeholder]="'labels.unloadingAddress'"
                    [label]="'labels.unloadingAddress'"
                    formControlName="unloadingAddress">
        </app-select>
      </div>
      <div class="modal-footer py-3">

        <app-button class="px-0" data-bs-dismiss="modal" [name]="'buttons.cancel'" (click)="modalRef.hide()"
                    [btnColor]="btnColor.filterButtonWhiteBg"></app-button>
          <app-button class="px-0" [name]="'buttons.create'" [disabled]="!addressForm.valid"
                      [btnColor]="btnColor.filterButton"></app-button>
      </div>
    </form>
<!--    <div class="modal-body pt-3 pb-5">-->
<!--        <div class="address-list">-->
<!--          <ul >-->
<!--            <li class="d-flex gap-4" *ngFor="let person of addressBook" (click)="selectAddress(person)">-->
<!--              <span class="menu-icon"><span class="btn-label"-->
<!--                                            [inlineSVG]="'./assets/media/icons/duotune/general/user_icon.svg'"></span></span>-->
<!--              {{ person.name }}-->
<!--            </li>-->
<!--          </ul>-->
<!--        </div>-->
<!--    </div>-->

  </div>
</ng-template>
